{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ru'ya\\\\myproject1\\\\components\\\\message.js\";\nimport 'react-native-gesture-handler';\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { Divider, Overlay, Icon } from 'react-native-elements';\nimport { AntDesign } from '@expo/vector-icons';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Styles from \"../style\";\nexport default function message(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var id = route.params.id;\n  var userid = eval(id);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      msg = _useState2[0],\n      setmsg = _useState2[1];\n\n  var _useState3 = useState(' '),\n      _useState4 = _slicedToArray(_useState3, 2),\n      text = _useState4[0],\n      settext = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      l = _useState6[0],\n      setl = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      msgn = _useState8[0],\n      setmsgn = _useState8[1];\n\n  var goback = function goback() {\n    console.log('dldd');\n    navigation.pop();\n  };\n\n  var msgnotiffication = function msgnotiffication() {\n    if (l >= 1) {\n      setmsgn('check for new  messages');\n    } else {\n      setmsgn('start your own business');\n    }\n  };\n\n  var readData = function readData() {\n    fetch('http://192.168.1.107/project/getmsg.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userid: userid\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'No message Yet') settext(responseJason);else {\n        setmsg(responseJason.results);\n        settext('');\n        setl(msg.length);\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  var Deletemsg = function Deletemsg(sid, bid, text) {\n    setmsg(function (prevmsg) {\n      return prevmsg.filter(function (msg) {\n        return msg.text != text;\n      });\n    });\n    fetch('http://192.168.1.107/project/deletemsg.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        sid: sid,\n        bid: bid,\n        text: text\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'message Deleted') alert(responseJason);\n      if (responseJason === 'Try Again') alert(responseJason);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  useEffect(function () {\n    readData();\n    msgnotiffication();\n  });\n  return React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, React.createElement(Button, {\n    title: \"goback\",\n    onPress: function onPress() {\n      return goback();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'center',\n      paddingTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: Styles.Titles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 16\n    }\n  }, \"messages\"), React.createElement(AntDesign, {\n    name: \"message1\",\n    style: {\n      marginTop: -4,\n      marginLeft: 5\n    },\n    size: 25,\n    color: \"#dc143c\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }\n  })), React.createElement(Divider, {\n    style: {\n      backgroundColor: '#dc143c',\n      marginLeft: 10,\n      marginRight: 10,\n      marginBottom: 10,\n      height: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 8\n    }\n  }), React.createElement(Text, {\n    style: {\n      padding: 6,\n      fontSize: 15\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 8\n    }\n  }, \" \", text, \" \"), React.createElement(SafeAreaView, {\n    style: {\n      flex: 1,\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 8\n    }\n  }, React.createElement(FlatList, {\n    data: msg,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.Form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"delete\",\n        size: 24,\n        color: \"#333\",\n        style: {\n          marginRight: 15\n        },\n        onPress: function onPress() {\n          return Deletemsg(item.sid, item.bid, item.text);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 16\n        }\n      }), React.createElement(View, {\n        style: styles.second,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          padding: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 18\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 75,\n          height: 75,\n          borderRadius: 35\n        },\n        source: {\n          uri: item.simage\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 45\n        }\n      })), React.createElement(View, {\n        style: {\n          paddingRight: 10,\n          paddingLeft: 5,\n          flexDirection: 'row',\n          justifyContent: 'space-between'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 18\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: styles.Title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 19\n        }\n      }, item.sname), React.createElement(Text, {\n        style: styles.Title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 19\n        }\n      }, \"Product name: \", item.productname), React.createElement(Text, {\n        style: {\n          paddingRight: 45\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 19\n        }\n      }, item.text)))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 6\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  second: {\n    flex: 1,\n    flexDirection: 'row'\n  },\n  Title: {\n    padding: 5,\n    fontWeight: 'bold',\n    height: 35\n  },\n  itemsno: {\n    width: 'auto',\n    flexDirection: 'row',\n    marginTop: 5,\n    justifyContent: 'center'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  Form: {\n    margin: 10,\n    flexDirection: 'row',\n    borderRadius: 15,\n    padding: 10,\n    paddingTop: 15,\n    paddingBottom: 20,\n    backgroundColor: 'white',\n    height: 'auto',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.28,\n    shadowRadius: 5.00,\n    elevation: 4,\n    marginBottom: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/Ru'ya/myproject1/components/message.js"],"names":["React","useState","useEffect","Divider","Overlay","Icon","AntDesign","MaterialIcons","AsyncStorage","Styles","message","route","navigation","id","params","userid","eval","msg","setmsg","text","settext","l","setl","msgn","setmsgn","goback","console","log","pop","msgnotiffication","readData","fetch","method","header","body","JSON","stringify","then","response","json","responseJason","results","length","catch","error","Deletemsg","sid","bid","prevmsg","filter","alert","flexDirection","justifyContent","paddingTop","Titles","marginTop","marginLeft","backgroundColor","marginRight","marginBottom","height","padding","fontSize","flex","item","styles","Form","second","width","borderRadius","uri","simage","paddingRight","paddingLeft","Title","sname","productname","StyleSheet","create","fontWeight","itemsno","margin","paddingBottom","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"mappings":"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","sourcesContent":["import 'react-native-gesture-handler'\r\nimport React,{useState,useEffect} from 'react';\r\nimport {View,ScrollView,Text,FlatList,Image,SafeAreaView,StyleSheet,Button} from 'react-native';\r\nimport {  Divider,Overlay,Icon } from 'react-native-elements';\r\nimport { AntDesign } from '@expo/vector-icons'; \r\nimport { MaterialIcons } from '@expo/vector-icons'; \r\nimport AsyncStorage from '@react-native-community/async-storage';\r\nimport Styles from '../style';\r\nexport default function message ({route,navigation}) {  \r\n  \r\n  const { id } = route.params;\r\n  const userid=eval(id);\r\n  const [msg,setmsg]=useState([]);\r\n  const [text,settext]=useState(' ');\r\n  const [l,setl]=useState(0);\r\n  const [msgn,setmsgn]=useState('');\r\n\r\n  const goback=()=>{\r\n    console.log('dldd')\r\n    navigation.pop()   \r\n  }\r\n  const msgnotiffication=()=>{\r\n if(l>=1){\r\nsetmsgn('check for new  messages');\r\n }\r\n else{\r\n  setmsgn('start your own business');\r\n }\r\n  }\r\n  const readData =()=>{\r\n    fetch('http://192.168.1.107/project/getmsg.php',{\r\n      method:'post',\r\n      header:{\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({     \r\n        userid:userid,\r\n      })\r\n    }) \r\n    .then((response)=> response.json())\r\n    .then((responseJason)=>{\r\n      if(responseJason === 'No message Yet')settext(responseJason);\r\n      else {setmsg(responseJason.results);settext('');setl(msg.length); }\r\n       }).catch((error)=>{\r\n       console.error(error);\r\n      })}\r\n\r\n      const Deletemsg=(sid,bid,text)=>{//on the todo\r\n       setmsg((prevmsg)=>{\r\n          return prevmsg.filter(msg => msg.text!=text);\r\n        })\r\n        fetch('http://192.168.1.107/project/deletemsg.php',{\r\n          method:'post',\r\n          header:{\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({     \r\n            sid:sid,\r\n            bid:bid,\r\n            text:text,\r\n           })\r\n      }) \r\n      //responce\r\n      .then((response)=> response.json())\r\n      //alarm msg\r\n      .then((responseJason)=>{\r\n        if(responseJason === 'message Deleted')alert(responseJason);\r\n        if(responseJason === 'Try Again')alert(responseJason);\r\n    \r\n      }).catch((error)=>{\r\n        console.error(error);\r\n    });\r\n      }\r\n      useEffect(() => {\r\n       readData();\r\n       msgnotiffication(); \r\n      })\r\n  \r\n  \r\n  return (  \r\n      <ScrollView>  \r\n        <Button  title='goback' onPress={()=>goback()} />\r\n            <View style={{flexDirection:'row',justifyContent:'center',paddingTop:10}}>\r\n               <Text style={Styles.Titles} >messages</Text>\r\n               <AntDesign name=\"message1\" style={{marginTop:-4,marginLeft:5}}size={25} color=\"#dc143c\" />\r\n            </View>\r\n       <Divider style={{backgroundColor:'#dc143c',marginLeft:10,marginRight:10 ,marginBottom:10,height:1}}/>\r\n       <Text style={{padding:6,fontSize:15}}> {text} </Text>\r\n       <SafeAreaView style={{flex:1,justifyContent:'center'}}>\r\n \r\n     <FlatList\r\n          data={msg}  \r\n          renderItem={({item})=>(\r\n            <View style={styles.Form}>\r\n               <MaterialIcons name='delete' size={24} color='#333' style={{marginRight:15}} onPress={()=>Deletemsg(item.sid,item.bid,item.text)}/>\r\n            <View style={styles.second}> \r\n                 <View style={{padding:10}}><Image style={{width:75,height:75,borderRadius:35}} source={{uri:item.simage}}></Image></View>\r\n                 <View style={{paddingRight:10,paddingLeft:5,flexDirection:'row',justifyContent:'space-between'}}>\r\n                  <View>\r\n                  <Text style={styles.Title} >{item.sname}</Text>\r\n                  <Text style={styles.Title} >Product name: {item.productname}</Text>\r\n                  <Text style={{paddingRight:45}}>{item.text}</Text>\r\n                  </View>\r\n                 \r\n                </View>\r\n              </View>\r\n              </View> \r\n          \r\n          )}  />\r\n\r\n\r\n          </SafeAreaView>\r\n      </ScrollView>\r\n    );   \r\n}\r\nconst styles = StyleSheet.create({\r\n  second:{\r\n    flex:1,\r\n    flexDirection:'row',\r\n  },\r\n  Title:{\r\n    padding:5,\r\n    fontWeight:'bold',\r\n    height:35,\r\n   \r\n  },\r\n  \r\n    itemsno:{\r\n      width:'auto',\r\n      flexDirection:'row',\r\n      marginTop:5,\r\n      justifyContent:'center'\r\n    },\r\n  \r\n    header:{\r\n      flexDirection:'row',\r\n      justifyContent:'space-between'\r\n    },\r\n  \r\n    Form:{\r\n      margin:10,\r\n      flexDirection:'row',\r\n      borderRadius:15,\r\n      padding:10,\r\n      paddingTop:15,\r\n      paddingBottom:20, \r\n      backgroundColor:'white',\r\n      height:'auto',\r\n      shadowColor: \"#000\",\r\n      shadowOffset: {\twidth: 0,\theight: 5},\r\n      shadowOpacity: 0.28,\r\n      shadowRadius: 5.00,\r\n      elevation: 4,\r\n      marginBottom:10\r\n  }, \r\n  })"]},"metadata":{},"sourceType":"module"}