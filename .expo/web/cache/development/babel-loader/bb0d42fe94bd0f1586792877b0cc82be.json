{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ru'ya\\\\myproject1\\\\appScreens\\\\Mypurchases.js\";\nimport React, { useState, useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Divider } from 'react-native-elements';\nimport MyPurchasesComp from \"../components/MyPurchasesComp\";\nimport { AntDesign } from '@expo/vector-icons';\nimport style from \"../style.js\";\nimport AsyncStorage from '@react-native-community/async-storage';\nexport default function Mypurchases() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      settext = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cartItem = _useState4[0],\n      setCartItem = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userid = _useState6[0],\n      setuserid = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      total = _useState8[0],\n      setTotal = _useState8[1];\n\n  var readuserid = function readuserid() {\n    return _regeneratorRuntime.async(function readuserid$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('userid').then(function (value) {\n              setuserid(eval(value));\n            }));\n\n          case 2:\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('total').then(function (value) {\n              setTotal(eval(value));\n            }));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var shop = function shop() {\n    fetch('http://192.168.1.113/project/sendorder.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        bid: userid\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'order sent') alert(responseJason);\n      if (responseJason === 'No order to send') alert(responseJason);else alert(responseJason);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  var deletep = function deletep(idd) {\n    setCartItem(function (prevwishes) {\n      return prevwishes.filter(function (wish) {\n        return wish.pid != idd;\n      });\n    });\n    fetch('http://192.168.1.113/project/deletecart.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        pid: idd,\n        bid: userid\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'product Deleted') alert(responseJason);\n      if (responseJason === 'Try Again') alert(responseJason);else {\n        AsyncStorage.setItem('total', JSON.stringify(responseJason));\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  var readData = function readData() {\n    fetch('http://192.168.1.113/project/getcart.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userid: userid\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'No Product in Shopping Cart') settext(responseJason);else {\n        setCartItem(responseJason.results);\n        settext(' ');\n      }\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  useEffect(function () {\n    readuserid();\n    readData();\n  });\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: style.Titles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, \"Shopping Cart\"), React.createElement(AntDesign, {\n    name: \"shoppingcart\",\n    size: 40,\n    color: \"gray\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  })), React.createElement(Divider, {\n    style: {\n      backgroundColor: '#dc143c',\n      marginLeft: 10,\n      marginRight: 10,\n      marginBottom: 10,\n      height: 0.7\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }\n  }), React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      color: '#dc143c',\n      marginLeft: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }\n  }, text), React.createElement(View, {\n    style: styles.purchases,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 4\n    }\n  }, React.createElement(FlatList, {\n    data: cartItem,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(MyPurchasesComp, {\n        item: item,\n        deletion: deletep,\n        bid: userid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 12\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }\n  })))), React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 1\n    }\n  }, React.createElement(View, {\n    style: styles.foot,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 1\n    }\n  }, React.createElement(View, {\n    style: styles.total,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      padding: 5,\n      justifyContent: 'space-around',\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: style.Title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \"Total :\"), React.createElement(Text, {\n    style: style.Title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, total)), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      return shop();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, \"Check Out\"))))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    margin: 20,\n    marginTop: 25,\n    justifyContent: 'center'\n  },\n  itemsno: {\n    width: 'auto',\n    flexDirection: 'row',\n    marginTop: 5,\n    justifyContent: 'center'\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  purchases: {\n    marginTop: 5,\n    marginBottom: 150\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  Form: {\n    borderRadius: 15,\n    padding: 10,\n    paddingTop: 30,\n    paddingBottom: 30,\n    backgroundColor: 'white',\n    height: 'auto',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.28,\n    shadowRadius: 5.00,\n    elevation: 4,\n    marginBottom: 10\n  },\n  button: {\n    alignItems: \"center\",\n    backgroundColor: '#dc143c',\n    padding: 10,\n    margin: 10,\n    borderRadius: 10\n  },\n  total: {\n    borderWidth: 1,\n    borderColor: '#dc143c',\n    borderRadius: 10,\n    backgroundColor: 'white',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 5,\n      height: 5\n    },\n    shadowOpacity: 0.38,\n    shadowRadius: 4.00,\n    elevation: 54\n  },\n  foot: {\n    position: 'absolute',\n    bottom: 5,\n    width: '96%'\n  }\n});","map":{"version":3,"sources":["C:/Users/Ru'ya/myproject1/appScreens/Mypurchases.js"],"names":["React","useState","useEffect","Divider","MyPurchasesComp","AntDesign","style","AsyncStorage","Mypurchases","text","settext","cartItem","setCartItem","userid","setuserid","total","setTotal","readuserid","getItem","then","value","eval","shop","fetch","method","header","body","JSON","stringify","bid","response","json","responseJason","alert","catch","error","console","deletep","idd","prevwishes","filter","wish","pid","setItem","readData","results","styles","container","flexDirection","justifyContent","Titles","backgroundColor","marginLeft","marginRight","marginBottom","height","fontSize","color","purchases","item","alignItems","foot","padding","Title","button","StyleSheet","create","margin","marginTop","itemsno","width","Form","borderRadius","paddingTop","paddingBottom","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderWidth","borderColor","position","bottom"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport {ScrollView, Text,View,StyleSheet,FlatList,SafeAreaView,TouchableOpacity,Image,ActivityIndicator} from 'react-native';\r\nimport {  Divider } from 'react-native-elements';\r\nimport MyPurchasesComp from '../components/MyPurchasesComp';\r\nimport { AntDesign } from '@expo/vector-icons'; \r\nimport style from '../style.js';\r\nimport AsyncStorage from '@react-native-community/async-storage';\r\n\r\nexport default function Mypurchases (){ \r\n \r\n  const [text,settext]=useState('');\r\n  const [cartItem,setCartItem]=useState([])\r\n  const[userid,setuserid]=useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  const readuserid=async()=>{\r\n     await AsyncStorage.getItem('userid').then((value) => {setuserid(eval(value)); });\r\n    await AsyncStorage.getItem('total').then((value) => {setTotal(eval(value)); });\r\n  \r\n    } \r\n   const shop=()=>{\r\n\r\n    fetch('http://192.168.1.113/project/sendorder.php',{\r\n      method:'post',\r\n      header:{\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({      \r\n        bid:userid,\r\n      })\r\n    }) \r\n    .then((response)=> response.json())\r\n.then((responseJason)=>{\r\n      if(responseJason === 'order sent')alert(responseJason); \r\n      if(responseJason === 'No order to send')alert(responseJason);\r\n      else alert(responseJason);\r\n       }).catch((error)=>{\r\n       console.error(error);\r\n      })\r\n    }\r\n    \r\n      const deletep=(idd)=>{//on the todo\r\n        setCartItem((prevwishes)=>{\r\n          return prevwishes.filter(wish => wish.pid!=idd);\r\n        })\r\n        fetch('http://192.168.1.113/project/deletecart.php',{\r\n          method:'post',\r\n          header:{\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({   \r\n            pid:idd,  \r\n            bid:userid , \r\n           })\r\n      }) \r\n      //responce\r\n      .then((response)=> response.json())\r\n      //alarm msg\r\n      .then((responseJason)=>{\r\n        if(responseJason === 'product Deleted')alert(responseJason);\r\n        if(responseJason === 'Try Again')alert(responseJason);\r\n        else{\r\n          AsyncStorage.setItem('total',JSON.stringify(responseJason));\r\n           }\r\n      }).catch((error)=>{\r\n        console.error(error);\r\n        });\r\n      }\r\n\r\n      const readData =  () => {\r\n        fetch('http://192.168.1.113/project/getcart.php',{\r\n          method:'post',\r\n          header:{\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({     \r\n          userid:userid,\r\n          })\r\n        }) \r\n        .then((response)=> response.json())\r\n        .then((responseJason)=>{\r\n          if(responseJason === 'No Product in Shopping Cart')settext(responseJason);\r\n          else {setCartItem(responseJason.results); \r\n          settext(' ');}\r\n           }).catch((error)=>{\r\n           console.error(error);\r\n          })\r\n        }\r\n      \r\n    useEffect(() => {\r\n      readuserid()\r\n      readData()\r\n    })\r\n\r\n  return (\r\n \r\n    <View>\r\n\r\n    <ScrollView >\r\n\r\n    <View style={styles.container}>\r\n      \r\n    <View style={{flexDirection:'row',justifyContent:'center'}}>\r\n    <Text style={style.Titles} >Shopping Cart</Text>\r\n    <AntDesign name=\"shoppingcart\" size={40} color=\"gray\" />\r\n    </View>\r\n\r\n   <Divider style={{backgroundColor:'#dc143c',marginLeft:10,marginRight:10 ,marginBottom:10,height:0.7}}/>\r\n   <Text style={{fontSize:16,color:'#dc143c',marginLeft:20}}>{text}</Text>\r\n   <View style={styles.purchases}>\r\n   <FlatList\r\n          data={cartItem}\r\n          renderItem={({item})=>(\r\n           <MyPurchasesComp item={item} deletion={deletep} bid={userid}/>\r\n   \r\n          ) } />\r\n   </View>\r\n  </View>\r\n</ScrollView>\r\n\r\n\r\n<View style={{alignItems:'center'}}>\r\n<View style={styles.foot}>\r\n        <View style={styles.total}>\r\n\r\n        <View style={{padding:5,justifyContent:'space-around',flexDirection:'row'}}>\r\n        <Text style={style.Title} >Total :</Text>\r\n        <Text style={style.Title} >{total}</Text>\r\n        </View>\r\n\r\n        <TouchableOpacity style={styles.button} onPress={()=>shop()}>\r\n        <Text>Check Out</Text>\r\n        </TouchableOpacity>\r\n        </View>\r\n        </View>\r\n</View>\r\n</View>\r\n\r\n  );  \r\n} \r\n\r\nconst styles = StyleSheet.create({\r\n  container:{\r\n    margin:20,\r\n    marginTop:25,\r\n    justifyContent:'center',\r\n  },\r\n\r\n  itemsno:{\r\n    width:'auto',\r\n    flexDirection:'row',\r\n    marginTop:5,\r\n    justifyContent:'center'\r\n  },\r\n\r\n  header:{\r\n    flexDirection:'row',\r\n    justifyContent:'space-between'\r\n  },\r\n\r\n  purchases:{\r\n    marginTop:5,\r\n    marginBottom:150,\r\n  },\r\n\r\n\r\n  header:{\r\n    flexDirection:'row',\r\n    justifyContent:'space-between'\r\n  },\r\n\r\n  Form:{\r\n    borderRadius:15,\r\n    padding:10,\r\n    paddingTop:30,\r\n    paddingBottom:30, \r\n    backgroundColor:'white',\r\n    height:'auto',\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\twidth: 0,\theight: 5,},\r\n    shadowOpacity: 0.28,\r\n    shadowRadius: 5.00,\r\n    elevation: 4,\r\n    marginBottom:10\r\n}, \r\nbutton: {\r\n  alignItems: \"center\",\r\n  backgroundColor: '#dc143c',\r\n  padding: 10,\r\n  margin:10,\r\n  borderRadius:10,\r\n  \r\n},\r\n\r\ntotal:{\r\n   borderWidth:1,\r\n   borderColor:'#dc143c',\r\n   borderRadius:10,\r\n   backgroundColor:'white',\r\n   shadowColor: \"#000\",\r\n   shadowOffset: {\twidth: 5,\theight: 5,},\r\n   shadowOpacity: 0.38,\r\n   shadowRadius: 4.00,\r\n   elevation: 54,\r\n},\r\n\r\nfoot: {\r\n    position: 'absolute',\r\n    bottom:5,\r\n    width: '96%',\r\n  },\r\n})"]},"metadata":{},"sourceType":"module"}