{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ru'ya\\\\myproject1\\\\appScreens\\\\Notes.js\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ViewPropTypes from \"react-native-web/dist/exports/ViewPropTypes\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport Header from \"../components/NoteHeader\";\nimport NoteAdd from \"../components/NoteAdd\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { CheckBox } from 'react-native-elements';\nexport default function Notes(_ref) {\n  var navigation = _ref.navigation;\n  var t = 0;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      todolist = _useState2[0],\n      settodolist = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userid = _useState4[0],\n      Setuserid = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      toggleCheckBox = _useState6[0],\n      setToggleCheckBox = _useState6[1];\n\n  var pressHandler = function pressHandler(id) {\n    settodolist(function (prevTodos) {\n      return prevTodos.filter(function (todolist) {\n        return todolist.noteid != id;\n      });\n    });\n    fetch('http://192.168.1.113/project/deletenote.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        noteid: id,\n        userid: userid\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'Note Deleted') alert(responseJason);\n      if (responseJason === 'Try Again') alert(responseJason);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  var _useState7 = useState(1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      keys = _useState8[0],\n      setkeys = _useState8[1];\n\n  var submitHandler = function submitHandler(text) {\n    if (text.length > 3) {\n      t = keys + 1;\n      setkeys(t);\n      settodolist(function (prevTodos) {\n        return [{\n          text: text,\n          key: keys\n        }].concat(_toConsumableArray(prevTodos));\n      });\n      fetch('http://192.168.1.113/project/todolist.php', {\n        method: 'post',\n        header: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: text,\n          noteid: keys,\n          userid: userid,\n          color: 'false'\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseJason) {\n        if (responseJason === 'Try Again') alert(responseJason);\n      }).catch(function (error) {\n        console.error(error);\n      });\n    } else {\n      Alert.alert('opps!', 'more than 3 char ', [{\n        text: 'understood'\n      }]);\n    }\n  };\n\n  var updatevalue = function updatevalue(text, key) {\n    fetch('http://192.168.1.113/project/updatecolor.php', {\n      method: 'post',\n      header: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        text: text,\n        noteid: key,\n        userid: userid\n      })\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJason) {\n      if (responseJason === 'Try Again') alert(responseJason);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n\n  var readData = function readData() {\n    var id;\n    return _regeneratorRuntime.async(function readData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('userid'));\n\n          case 3:\n            id = _context.sent;\n\n            if (id !== 0) {\n              Setuserid(eval(id));\n            }\n\n            fetch('http://192.168.1.113/project/getnote.php', {\n              method: 'post',\n              header: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                userid: userid\n              })\n            }).then(function (response) {\n              return response.json();\n            }).then(function (responseJason) {\n              if (responseJason === 'no pos') alert(responseJason);else {\n                settodolist(responseJason.results);\n              }\n            }).catch(function (error) {\n              console.error(error);\n            });\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            alert('Failed to fetch the data from storage');\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  useEffect(function () {\n    readData();\n  });\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      Keyboard.dismiss();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    nav: navigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 5\n    }\n  }), React.createElement(View, {\n    style: styles.content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }\n  }, React.createElement(NoteAdd, {\n    submitHandler: submitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.list,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: todolist,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.items,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          borderRadius: 10,\n          height: '100%',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n          alignContent: 'space-between'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }\n      }, React.createElement(CheckBox, {\n        checked: eval(item.color),\n        onPress: function onPress() {\n          updatevalue(!eval(item.color), item.noteid);\n        },\n        checkedColor: '#dc143c',\n        uncheckedColor: '#dc143c',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }\n      }), React.createElement(MaterialIcons, {\n        name: \"delete\",\n        size: 24,\n        color: \"#333\",\n        onPress: function onPress() {\n          return pressHandler(item.noteid);\n        },\n        style: {\n          marginLeft: 240,\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: styles.itemText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }, item.text)))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  })))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  content: {\n    flex: 1,\n    padding: 40\n  },\n  list: {\n    flex: 1,\n    marginTop: 20\n  },\n  items: {\n    padding: 16,\n    marginTop: 16,\n    borderColor: 'green',\n    borderWidth: 1,\n    borderStyle: 'dashed',\n    borderRadius: 10,\n    flexDirection: 'row'\n  },\n  checkbox: {\n    alignSelf: 'flex-end'\n  },\n  itemText: {\n    marginLeft: 10,\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/Ru'ya/myproject1/appScreens/Notes.js"],"names":["React","useState","useEffect","MaterialIcons","Header","NoteAdd","AsyncStorage","CheckBox","Notes","navigation","t","todolist","settodolist","userid","Setuserid","toggleCheckBox","setToggleCheckBox","pressHandler","id","prevTodos","filter","noteid","fetch","method","header","body","JSON","stringify","then","response","json","responseJason","alert","catch","error","console","keys","setkeys","submitHandler","text","length","key","color","Alert","updatevalue","readData","getItem","eval","results","Keyboard","dismiss","styles","container","content","list","item","items","borderRadius","height","width","flexDirection","justifyContent","alignContent","marginLeft","position","itemText","StyleSheet","create","flex","backgroundColor","padding","marginTop","borderColor","borderWidth","borderStyle","checkbox","alignSelf","fontSize"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport { StyleSheet, View,Text, FlatList,Alert,TouchableWithoutFeedback,Keyboard,TouchableOpacity,ViewPropTypes} from 'react-native';\r\nimport { MaterialIcons } from '@expo/vector-icons'; \r\nimport Header from '../components/NoteHeader';\r\nimport NoteAdd from '../components/NoteAdd';\r\nimport AsyncStorage from '@react-native-community/async-storage';\r\n//import CheckBox from '@react-native-community/checkbox';\r\n//import CircleCheckBox, {LABEL_POSITION} from 'react-native-circle-checkbox';  \r\nimport { CheckBox } from 'react-native-elements'\r\nexport default function Notes({navigation}) {\r\n  let t=0;\r\n  const [todolist,settodolist]=useState([]);\r\n  const [userid,Setuserid]=useState(0); \r\n  const [toggleCheckBox, setToggleCheckBox] = useState(false)\r\n \r\n\r\n  const pressHandler=(id)=>{//on the todo\r\n    settodolist((prevTodos)=>{\r\n      return prevTodos.filter(todolist => todolist.noteid!=id);\r\n    })\r\n    fetch('http://192.168.1.113/project/deletenote.php',{\r\n      method:'post',\r\n      header:{\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({     \r\n        noteid:id,\r\n        userid:userid,\r\n       })\r\n  }) \r\n  //responce\r\n  .then((response)=> response.json())\r\n  //alarm msg\r\n  .then((responseJason)=>{\r\n    if(responseJason === 'Note Deleted')alert(responseJason);\r\n    if(responseJason === 'Try Again')alert(responseJason);\r\n\r\n  }).catch((error)=>{\r\n    console.error(error);\r\n});\r\n  }\r\n\r\n  const [keys,setkeys]=useState(1);\r\n\r\n  const submitHandler=(text)=>{//on the butotn \r\n    if(text.length>3 ){\r\n      t=keys+1;\r\n      setkeys(t);\r\n      settodolist((prevTodos)=>{\r\n        return [\r\n          {text:text, key:keys},\r\n          ...prevTodos //spreading the prev to do adds the new ones \r\n        ]\r\n      })\r\n      fetch('http://192.168.1.113/project/todolist.php',{\r\n      method:'post',\r\n      header:{\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({     \r\n        text:text,\r\n        noteid:keys,\r\n        userid:userid,\r\n        color:'false',\r\n       })\r\n  }) \r\n  //responce\r\n  .then((response)=> response.json())\r\n  //alarm msg\r\n  .then((responseJason)=>{\r\n\r\n    if(responseJason === 'Try Again')alert(responseJason);\r\n\r\n  }).catch((error)=>{\r\n    console.error(error);\r\n});\r\n    }\r\n    else{\r\n      Alert.alert('opps!','more than 3 char ',[{text:'understood'}])\r\n    }   \r\n  }\r\n  const updatevalue=(text,key)=>{//on the butotn \r\n    \r\n      fetch('http://192.168.1.113/project/updatecolor.php',{\r\n      method:'post',\r\n      header:{\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({     \r\n        text:text,\r\n        noteid:key,\r\n        userid:userid,\r\n       })\r\n  }) \r\n  //responce\r\n  .then((response)=> response.json())\r\n  //alarm msg\r\n  .then((responseJason)=>{\r\n\r\n    if(responseJason === 'Try Again')alert(responseJason);\r\n\r\n  }).catch((error)=>{\r\n    console.error(error);\r\n});\r\n    \r\n  }\r\nconst readData = async () => {\r\n  try {\r\n    const id = await AsyncStorage.getItem('userid');     \r\n    if (id !== 0) {\r\n      Setuserid(eval(id))\r\n    }\r\n    \r\nfetch('http://192.168.1.113/project/getnote.php',{\r\n  method:'post',\r\n  header:{\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  body: JSON.stringify({     \r\n    userid:userid\r\n})\r\n}) \r\n.then((response)=> response.json())\r\n.then((responseJason)=>{\r\n  if(responseJason === 'no pos')alert(responseJason);\r\n  else {settodolist(responseJason.results); }\r\n  }).catch((error)=>{\r\n  console.error(error);\r\n  })   \r\n    } catch (e) {\r\n      alert('Failed to fetch the data from storage')\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    readData()\r\n  })\r\n\r\n\r\n\r\n\r\n  return (\r\n   \r\n    <TouchableWithoutFeedback onPress={()=>{\r\n      Keyboard.dismiss();\r\n     }}>\r\n    <View style={styles.container}>\r\n      {/*header*/}\r\n    <Header nav={navigation}/>\r\n    <View style={styles.content}>\r\n        {/*to do form*/}\r\n      < NoteAdd submitHandler={submitHandler}/> \r\n\r\n        <View style={styles.list}>\r\n\r\n          <FlatList\r\n            data={todolist}\r\n            //keyExtractor={todolist.id}\r\n            renderItem={({item})=>(\r\n              \r\n              <View style={styles.items}>\r\n            <TouchableOpacity  style={{borderRadius:10,height:'100%',width:'100%'}} >\r\n              <View style={{flexDirection:'row'}}>\r\n\r\n              <View style={{flexDirection:'row', justifyContent:'space-around',alignContent:'space-between'}}>\r\n        \r\n             {/* <CheckBox disabled={false}\r\n               value={eval(item.color)} \r\n               onCheckColor={'#dc143c'}\r\n            onValueChange={(newValue) => {setToggleCheckBox(newValue),updatevalue(eval(newValue),item.noteid)}} />*/}\r\n            <CheckBox\r\n  checked={eval(item.color)} \r\n  onPress={() =>{updatevalue(!eval(item.color),item.noteid)}}\r\n  checkedColor={'#dc143c'}\r\n  uncheckedColor={'#dc143c'}\r\n/>\r\n      \r\n                <MaterialIcons name='delete'  size={24} color='#333' onPress={()=> pressHandler(item.noteid)} style={{marginLeft:240,position:'absolute'}}/>\r\n                <Text style={styles.itemText} >{item.text}</Text>\r\n                </View>\r\n              \r\n                </View>\r\n               \r\n           </TouchableOpacity>\r\n           </View>   \r\n          )} />\r\n\r\n        </View>\r\n      </View>\r\n    </View>\r\n          </TouchableWithoutFeedback> \r\n\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n  },\r\n  content:{\r\n    flex: 1,\r\n    padding:40,\r\n  },\r\n  list:{\r\n    flex: 1,\r\n    marginTop:20,\r\n  },\r\n  items :{\r\n    padding:16,\r\n    marginTop:16,\r\n    borderColor:'green',\r\n    borderWidth:1,\r\n    borderStyle :'dashed',\r\n    borderRadius:10,\r\n    flexDirection:'row'\r\n},\r\ncheckbox: {\r\n    alignSelf: 'flex-end',\r\n  },\r\nitemText:{\r\n    marginLeft:10,\r\n    fontSize:20,\r\n\r\n}\r\n});\r\n"]},"metadata":{},"sourceType":"module"}